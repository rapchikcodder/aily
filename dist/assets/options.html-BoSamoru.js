import"./index-bpJhN0aj.js";import{u as E,r as a,j as e,c as V,R as q,a as M}from"./useAppStore-CdEbkMje.js";import{t as n}from"./Toast-DJ08JjkF.js";function B(){const{apiKeys:t,setAPIKey:l,isLocalAIAvailable:z,localAIStatus:r,loadFromStorage:p,checkLocalAI:d,v3Enabled:o,setV3Enabled:w}=E(),[i,y]=a.useState(""),[c,k]=a.useState(""),[x,j]=a.useState(""),[m,v]=a.useState(""),[b,A]=a.useState(!1),[g,I]=a.useState(!1),[h,C]=a.useState(!1),[u,S]=a.useState(!1),[f,N]=a.useState(!1);a.useEffect(()=>{p(),d().catch(()=>{})},[p,d]);const G=async()=>{N(!0),await d(),N(!1)};a.useEffect(()=>{y(t.openai||""),k(t.anthropic||""),j(t.gemini||""),v(t.grok||"")},[t]);const K=()=>{i.trim()&&(l("openai",i.trim()),n.success("OpenAI API key saved!"))},O=()=>{c.trim()&&(l("anthropic",c.trim()),n.success("Anthropic API key saved!"))},P=()=>{x.trim()&&(l("gemini",x.trim()),n.success("Gemini API key saved!"))},R=()=>{m.trim()&&(l("grok",m.trim()),n.success("Grok API key saved!"))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Configure your AI providers and customize your experience"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"AI Provider Settings"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Choose between local AI (free) or cloud AI (requires API key)"})]}),e.jsxs("div",{className:"p-6 space-y-3 card-clean",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:V("w-3 h-3 rounded-full transition-all duration-300",r==="ready"&&"bg-green-500",r==="downloading"&&"bg-blue-400 animate-pulse",(r==="unavailable"||r==="unknown")&&"bg-gray-400")}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Chrome Built-in AI (Gemini Nano)"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r==="ready"&&"Ready — completely free!",r==="downloading"&&"Downloading model… check back in a few minutes",r==="unavailable"&&"Not enabled — follow the steps below",r==="unknown"&&"Checking…"]})]})]}),e.jsx("button",{onClick:G,disabled:f,className:"text-xs px-3 py-1.5 rounded-lg bg-blue-500 hover:bg-blue-600 text-white transition-all duration-200 shadow-sm hover:shadow-md disabled:opacity-50",children:f?"Checking…":"Refresh Status"})]}),(r==="unavailable"||r==="unknown")&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl p-4 space-y-2 text-sm",children:[e.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-200",children:"How to enable free AI (Chrome 127+):"}),e.jsxs("ol",{className:"list-decimal list-inside text-amber-800 dark:text-amber-300 space-y-1",children:[e.jsxs("li",{children:["Open"," ",e.jsx("button",{onClick:()=>chrome.tabs.create({url:"chrome://flags/#optimization-guide-on-device-model"}),className:"underline font-semibold hover:text-amber-950 dark:hover:text-amber-100",children:"chrome://flags/#optimization-guide-on-device-model"})," ","→ set to ",e.jsx("strong",{children:"Enabled BypassPerfRequirement"})]}),e.jsxs("li",{children:["Open"," ",e.jsx("button",{onClick:()=>chrome.tabs.create({url:"chrome://flags/#prompt-api-for-gemini-nano"}),className:"underline font-semibold hover:text-amber-950 dark:hover:text-amber-100",children:"chrome://flags/#prompt-api-for-gemini-nano"})," ","→ set to ",e.jsx("strong",{children:"Enabled"})]}),e.jsx("li",{children:"Relaunch Chrome completely (close all windows, reopen)"}),e.jsxs("li",{children:["Come back here and click ",e.jsx("strong",{children:"Refresh Status"})," — it will start the download"]})]}),e.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs",children:"Until then, add an OpenAI or Anthropic key below to use cloud AI."})]}),r==="downloading"&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-xl p-4 text-sm text-blue-800 dark:text-blue-200 space-y-2",children:[e.jsx("p",{children:"Chrome is downloading Gemini Nano in the background (usually 2–5 min)."}),e.jsxs("p",{children:["To see real-time download progress, open"," ",e.jsx("button",{onClick:()=>chrome.tabs.create({url:"chrome://components/"}),className:"underline font-semibold hover:text-blue-950 dark:hover:text-blue-100",children:"chrome://components/"})," ","and look for ",e.jsx("strong",{children:'"Optimization Guide On Device Model"'}),"."]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Bring Your Own Key (BYOK)"}),e.jsxs("div",{className:"p-6 space-y-3 card-clean",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"OpenAI API"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:"GPT-4 Turbo"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:b?"text":"password",value:i,onChange:s=>y(s.target.value),placeholder:"sk-...",className:"input-clean flex-1"}),e.jsx("button",{onClick:()=>A(!b),className:"px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-blue-500 transition-all duration-200",children:b?"Hide":"Show"})]}),e.jsx("button",{onClick:K,className:"btn-primary w-full",children:"Save Key"})]})]}),e.jsxs("div",{className:"p-6 space-y-3 card-clean",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Anthropic API"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:"Claude 3.5 Sonnet"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:g?"text":"password",value:c,onChange:s=>k(s.target.value),placeholder:"sk-ant-...",className:"input-clean flex-1"}),e.jsx("button",{onClick:()=>I(!g),className:"px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-blue-500 transition-all duration-200",children:g?"Hide":"Show"})]}),e.jsx("button",{onClick:O,className:"btn-primary w-full",children:"Save Key"})]})]}),e.jsxs("div",{className:"p-6 space-y-3 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-700 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:["Google Gemini API",e.jsx("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded-full font-bold",children:"FREE"})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:"Gemini 2.5 Flash"})]}),e.jsxs("div",{className:"text-xs text-green-800 dark:text-green-200 bg-green-100 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg p-3",children:[e.jsx("strong",{children:"Free tier:"})," Generous quotas, no credit card required. Get your key at"," ",e.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold hover:text-green-950 dark:hover:text-green-100",children:"aistudio.google.com/app/apikey"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:h?"text":"password",value:x,onChange:s=>j(s.target.value),placeholder:"AIza...",className:"input-clean flex-1 focus:border-green-500 focus:ring-green-500/20"}),e.jsx("button",{onClick:()=>C(!h),className:"px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-green-500 transition-all duration-200",children:h?"Hide":"Show"})]}),e.jsx("button",{onClick:P,className:"w-full py-3 rounded-lg bg-green-600 hover:bg-green-700 text-white font-semibold transition-all duration-200 shadow-sm hover:shadow-md",children:"Save Key"})]})]}),e.jsxs("div",{className:"p-6 space-y-3 card-clean",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Grok API (xAI)"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:"Grok Beta"})]}),e.jsxs("div",{className:"text-xs text-blue-800 dark:text-blue-200 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-3",children:[e.jsx("strong",{children:"xAI's Grok:"})," Advanced AI from Elon Musk's team. Get your key at"," ",e.jsx("a",{href:"https://console.x.ai/",target:"_blank",rel:"noopener noreferrer",className:"underline font-semibold hover:text-blue-950 dark:hover:text-blue-100",children:"console.x.ai"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:u?"text":"password",value:m,onChange:s=>v(s.target.value),placeholder:"xai-...",className:"input-clean flex-1"}),e.jsx("button",{onClick:()=>S(!u),className:"px-4 py-3 rounded-lg bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:border-blue-500 transition-all duration-200",children:u?"Hide":"Show"})]}),e.jsx("button",{onClick:R,className:"btn-primary w-full",children:"Save Key"})]})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"Keys are stored locally on your device. We never see or transmit them."})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Interview Mode"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Choose between V2 (adaptive one-at-a-time) or V3 (tabbed, faster)"})]}),e.jsxs("div",{className:"p-6 space-y-4 card-clean",children:[e.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:s=>{w(s.target.checked),n.success(s.target.checked?"V3 mode enabled!":"V2 mode enabled!")},className:"w-5 h-5 mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-offset-2 cursor-pointer"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Use V3 Architecture (Recommended)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"2 API calls, tabbed UI, works with any provider (Gemini, OpenAI, Claude, Grok)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs",children:[e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded px-2 py-1 text-green-700 dark:text-green-300",children:"✓ ~70% cost reduction"}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded px-2 py-1 text-green-700 dark:text-green-300",children:"✓ ~50% faster"}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded px-2 py-1 text-green-700 dark:text-green-300",children:"✓ All questions at once"})]})]})]}),o&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("strong",{children:"ⓘ V3 Mode:"})," Uses your selected AI provider for both question generation and mega-prompt compilation"]})}),!o&&e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[e.jsx("strong",{children:"V2 Mode:"})," Uses adaptive one-at-a-time questioning (4-6 API calls)"]})})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-1",children:"Custom Injection Rules"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Create custom variable injections (Coming soon)"})]}),e.jsx("div",{className:"p-12 text-center text-gray-500 dark:text-gray-400 card-clean",children:e.jsx("p",{className:"font-medium",children:"Feature under development"})})]})]})]})}q.createRoot(document.getElementById("root")).render(e.jsx(M.StrictMode,{children:e.jsx(B,{})}));
