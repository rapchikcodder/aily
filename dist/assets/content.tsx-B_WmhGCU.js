import{r as j,j as s,R as xe,a as we}from"./client-BaXnLZmA.js";function Ee(e){var r,t,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=Ee(e[r]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function Fe(){for(var e,r,t=0,o="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=Ee(e))&&(o&&(o+=" "),o+=r);return o}const Ke=(e,r)=>{const t=new Array(e.length+r.length);for(let o=0;o<e.length;o++)t[o]=e[o];for(let o=0;o<r.length;o++)t[e.length+o]=r[o];return t},Ve=(e,r)=>({classGroupId:e,validator:r}),Pe=(e=new Map,r=null,t)=>({nextPart:e,validators:r,classGroupId:t}),ae="-",ve=[],He="arbitrary..",De=e=>{const r=Qe(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return Ye(a);const u=a.split(ae),d=u[0]===""&&u.length>1?1:0;return Ne(u,d,r)},getConflictingClassGroupIds:(a,u)=>{if(u){const d=o[a],c=t[a];return d?c?Ke(c,d):d:c||ve}return t[a]||ve}}},Ne=(e,r,t)=>{if(e.length-r===0)return t.classGroupId;const i=e[r],n=t.nextPart.get(i);if(n){const c=Ne(e,r+1,n);if(c)return c}const a=t.validators;if(a===null)return;const u=r===0?e.join(ae):e.slice(r).join(ae),d=a.length;for(let c=0;c<d;c++){const f=a[c];if(f.validator(u))return f.classGroupId}},Ye=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=e.slice(1,-1),t=r.indexOf(":"),o=r.slice(0,t);return o?He+o:void 0})(),Qe=e=>{const{theme:r,classGroups:t}=e;return Je(t,r)},Je=(e,r)=>{const t=Pe();for(const o in e){const i=e[o];ue(i,t,o,r)}return t},ue=(e,r,t,o)=>{const i=e.length;for(let n=0;n<i;n++){const a=e[n];Xe(a,r,t,o)}},Xe=(e,r,t,o)=>{if(typeof e=="string"){Ze(e,r,t);return}if(typeof e=="function"){et(e,r,t,o);return}tt(e,r,t,o)},Ze=(e,r,t)=>{const o=e===""?r:Re(r,e);o.classGroupId=t},et=(e,r,t,o)=>{if(rt(e)){ue(e(o),r,t,o);return}r.validators===null&&(r.validators=[]),r.validators.push(Ve(t,e))},tt=(e,r,t,o)=>{const i=Object.entries(e),n=i.length;for(let a=0;a<n;a++){const[u,d]=i[a];ue(d,Re(r,u),t,o)}},Re=(e,r)=>{let t=e;const o=r.split(ae),i=o.length;for(let n=0;n<i;n++){const a=o[n];let u=t.nextPart.get(a);u||(u=Pe(),t.nextPart.set(a,u)),t=u}return t},rt=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,ot=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=Object.create(null),o=Object.create(null);const i=(n,a)=>{t[n]=a,r++,r>e&&(r=0,o=t,t=Object.create(null))};return{get(n){let a=t[n];if(a!==void 0)return a;if((a=o[n])!==void 0)return i(n,a),a},set(n,a){n in t?t[n]=a:i(n,a)}}},de="!",ke=":",nt=[],Ae=(e,r,t,o,i)=>({modifiers:e,hasImportantModifier:r,baseClassName:t,maybePostfixModifierPosition:o,isExternal:i}),at=e=>{const{prefix:r,experimentalParseClassName:t}=e;let o=i=>{const n=[];let a=0,u=0,d=0,c;const f=i.length;for(let C=0;C<f;C++){const T=i[C];if(a===0&&u===0){if(T===ke){n.push(i.slice(d,C)),d=C+1;continue}if(T==="/"){c=C;continue}}T==="["?a++:T==="]"?a--:T==="("?u++:T===")"&&u--}const v=n.length===0?i:i.slice(d);let y=v,S=!1;v.endsWith(de)?(y=v.slice(0,-1),S=!0):v.startsWith(de)&&(y=v.slice(1),S=!0);const z=c&&c>d?c-d:void 0;return Ae(n,S,y,z)};if(r){const i=r+ke,n=o;o=a=>a.startsWith(i)?n(a.slice(i.length)):Ae(nt,!1,a,void 0,!0)}if(t){const i=o;o=n=>t({className:n,parseClassName:i})}return o},it=e=>{const r=new Map;return e.orderSensitiveModifiers.forEach((t,o)=>{r.set(t,1e6+o)}),t=>{const o=[];let i=[];for(let n=0;n<t.length;n++){const a=t[n],u=a[0]==="[",d=r.has(a);u||d?(i.length>0&&(i.sort(),o.push(...i),i=[]),o.push(a)):i.push(a)}return i.length>0&&(i.sort(),o.push(...i)),o}},st=e=>({cache:ot(e.cacheSize),parseClassName:at(e),sortModifiers:it(e),...De(e)}),lt=/\s+/,ct=(e,r)=>{const{parseClassName:t,getClassGroupId:o,getConflictingClassGroupIds:i,sortModifiers:n}=r,a=[],u=e.trim().split(lt);let d="";for(let c=u.length-1;c>=0;c-=1){const f=u[c],{isExternal:v,modifiers:y,hasImportantModifier:S,baseClassName:z,maybePostfixModifierPosition:C}=t(f);if(v){d=f+(d.length>0?" "+d:d);continue}let T=!!C,L=o(T?z.substring(0,C):z);if(!L){if(!T){d=f+(d.length>0?" "+d:d);continue}if(L=o(z),!L){d=f+(d.length>0?" "+d:d);continue}T=!1}const _=y.length===0?"":y.length===1?y[0]:n(y).join(":"),N=S?_+de:_,M=N+L;if(a.indexOf(M)>-1)continue;a.push(M);const I=i(L,T);for(let l=0;l<I.length;++l){const x=I[l];a.push(N+x)}d=f+(d.length>0?" "+d:d)}return d},dt=(...e)=>{let r=0,t,o,i="";for(;r<e.length;)(t=e[r++])&&(o=Ie(t))&&(i&&(i+=" "),i+=o);return i},Ie=e=>{if(typeof e=="string")return e;let r,t="";for(let o=0;o<e.length;o++)e[o]&&(r=Ie(e[o]))&&(t&&(t+=" "),t+=r);return t},pt=(e,...r)=>{let t,o,i,n;const a=d=>{const c=r.reduce((f,v)=>v(f),e());return t=st(c),o=t.cache.get,i=t.cache.set,n=u,u(d)},u=d=>{const c=o(d);if(c)return c;const f=ct(d,t);return i(d,f),f};return n=a,(...d)=>n(dt(...d))},ut=[],P=e=>{const r=t=>t[e]||ut;return r.isThemeGetter=!0,r},Oe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ze=/^\((?:(\w[\w-]*):)?(.+)\)$/i,mt=/^\d+\/\d+$/,gt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ht=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ft=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,J=e=>mt.test(e),w=e=>!!e&&!Number.isNaN(Number(e)),V=e=>!!e&&Number.isInteger(Number(e)),ce=e=>e.endsWith("%")&&w(e.slice(0,-1)),K=e=>gt.test(e),Me=()=>!0,xt=e=>ht.test(e)&&!bt.test(e),me=()=>!1,wt=e=>ft.test(e),vt=e=>yt.test(e),kt=e=>!m(e)&&!g(e),At=e=>H(e,Be,me),m=e=>Oe.test(e),Y=e=>H(e,$e,xt),je=e=>H(e,Rt,w),jt=e=>H(e,_e,Me),Ct=e=>H(e,qe,me),Ce=e=>H(e,Le,me),St=e=>H(e,Ge,vt),oe=e=>H(e,Ue,wt),g=e=>ze.test(e),X=e=>Q(e,$e),Tt=e=>Q(e,qe),Se=e=>Q(e,Le),Et=e=>Q(e,Be),Pt=e=>Q(e,Ge),ne=e=>Q(e,Ue,!0),Nt=e=>Q(e,_e,!0),H=(e,r,t)=>{const o=Oe.exec(e);return o?o[1]?r(o[1]):t(o[2]):!1},Q=(e,r,t=!1)=>{const o=ze.exec(e);return o?o[1]?r(o[1]):t:!1},Le=e=>e==="position"||e==="percentage",Ge=e=>e==="image"||e==="url",Be=e=>e==="length"||e==="size"||e==="bg-size",$e=e=>e==="length",Rt=e=>e==="number",qe=e=>e==="family-name",_e=e=>e==="number"||e==="weight",Ue=e=>e==="shadow",It=()=>{const e=P("color"),r=P("font"),t=P("text"),o=P("font-weight"),i=P("tracking"),n=P("leading"),a=P("breakpoint"),u=P("container"),d=P("spacing"),c=P("radius"),f=P("shadow"),v=P("inset-shadow"),y=P("text-shadow"),S=P("drop-shadow"),z=P("blur"),C=P("perspective"),T=P("aspect"),L=P("ease"),_=P("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...M(),g,m],l=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],p=()=>[g,m,d],h=()=>[J,"full","auto",...p()],O=()=>[V,"none","subgrid",g,m],A=()=>["auto",{span:["full",V,g,m]},V,g,m],G=()=>[V,"auto",g,m],B=()=>["auto","min","max","fr",g,m],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],E=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...p()],D=()=>[J,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...p()],b=()=>[e,g,m],ge=()=>[...M(),Se,Ce,{position:[g,m]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],be=()=>["auto","cover","contain",Et,At,{size:[g,m]}],se=()=>[ce,X,Y],$=()=>["","none","full",c,g,m],W=()=>["",w,X,Y],Z=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[w,ce,Se,Ce],ye=()=>["","none",z,g,m],ee=()=>["none",w,g,m],te=()=>["none",w,g,m],le=()=>[w,g,m],re=()=>[J,"full",...p()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[K],breakpoint:[K],color:[Me],container:[K],"drop-shadow":[K],ease:["in","out","in-out"],font:[kt],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[K],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[K],shadow:[K],spacing:["px",w],text:[K],"text-shadow":[K],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",J,m,g,T]}],container:["container"],columns:[{columns:[w,m,g,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:l()}],"overflow-x":[{"overflow-x":l()}],"overflow-y":[{"overflow-y":l()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:h()}],"inset-x":[{"inset-x":h()}],"inset-y":[{"inset-y":h()}],start:[{start:h()}],end:[{end:h()}],top:[{top:h()}],right:[{right:h()}],bottom:[{bottom:h()}],left:[{left:h()}],visibility:["visible","invisible","collapse"],z:[{z:[V,"auto",g,m]}],basis:[{basis:[J,"full","auto",u,...p()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[w,J,"auto","initial","none",m]}],grow:[{grow:["",w,g,m]}],shrink:[{shrink:["",w,g,m]}],order:[{order:[V,"first","last","none",g,m]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:p()}],"gap-x":[{"gap-x":p()}],"gap-y":[{"gap-y":p()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...E(),"normal"]}],"justify-self":[{"justify-self":["auto",...E()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...E(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...E(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...E(),"baseline"]}],"place-self":[{"place-self":["auto",...E()]}],p:[{p:p()}],px:[{px:p()}],py:[{py:p()}],ps:[{ps:p()}],pe:[{pe:p()}],pt:[{pt:p()}],pr:[{pr:p()}],pb:[{pb:p()}],pl:[{pl:p()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":p()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":p()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[u,"screen",...D()]}],"min-w":[{"min-w":[u,"screen","none",...D()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[a]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",t,X,Y]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Nt,jt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ce,m]}],"font-family":[{font:[Tt,Ct,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,g,m]}],"line-clamp":[{"line-clamp":[w,"none",g,je]}],leading:[{leading:[n,...p()]}],"list-image":[{"list-image":["none",g,m]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",g,m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:b()}],"text-color":[{text:b()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[w,"from-font","auto",g,Y]}],"text-decoration-color":[{decoration:b()}],"underline-offset":[{"underline-offset":[w,"auto",g,m]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:p()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",g,m]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",g,m]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:be()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},V,g,m],radial:["",g,m],conic:[V,g,m]},Pt,St]}],"bg-color":[{bg:b()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:b()}],"gradient-via":[{via:b()}],"gradient-to":[{to:b()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:b()}],"border-color-x":[{"border-x":b()}],"border-color-y":[{"border-y":b()}],"border-color-s":[{"border-s":b()}],"border-color-e":[{"border-e":b()}],"border-color-t":[{"border-t":b()}],"border-color-r":[{"border-r":b()}],"border-color-b":[{"border-b":b()}],"border-color-l":[{"border-l":b()}],"divide-color":[{divide:b()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[w,g,m]}],"outline-w":[{outline:["",w,X,Y]}],"outline-color":[{outline:b()}],shadow:[{shadow:["","none",f,ne,oe]}],"shadow-color":[{shadow:b()}],"inset-shadow":[{"inset-shadow":["none",v,ne,oe]}],"inset-shadow-color":[{"inset-shadow":b()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:b()}],"ring-offset-w":[{"ring-offset":[w,Y]}],"ring-offset-color":[{"ring-offset":b()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":b()}],"text-shadow":[{"text-shadow":["none",y,ne,oe]}],"text-shadow-color":[{"text-shadow":b()}],opacity:[{opacity:[w,g,m]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[w]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":b()}],"mask-image-linear-to-color":[{"mask-linear-to":b()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":b()}],"mask-image-t-to-color":[{"mask-t-to":b()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":b()}],"mask-image-r-to-color":[{"mask-r-to":b()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":b()}],"mask-image-b-to-color":[{"mask-b-to":b()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":b()}],"mask-image-l-to-color":[{"mask-l-to":b()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":b()}],"mask-image-x-to-color":[{"mask-x-to":b()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":b()}],"mask-image-y-to-color":[{"mask-y-to":b()}],"mask-image-radial":[{"mask-radial":[g,m]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":b()}],"mask-image-radial-to-color":[{"mask-radial-to":b()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[w]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":b()}],"mask-image-conic-to-color":[{"mask-conic-to":b()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:be()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",g,m]}],filter:[{filter:["","none",g,m]}],blur:[{blur:ye()}],brightness:[{brightness:[w,g,m]}],contrast:[{contrast:[w,g,m]}],"drop-shadow":[{"drop-shadow":["","none",S,ne,oe]}],"drop-shadow-color":[{"drop-shadow":b()}],grayscale:[{grayscale:["",w,g,m]}],"hue-rotate":[{"hue-rotate":[w,g,m]}],invert:[{invert:["",w,g,m]}],saturate:[{saturate:[w,g,m]}],sepia:[{sepia:["",w,g,m]}],"backdrop-filter":[{"backdrop-filter":["","none",g,m]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[w,g,m]}],"backdrop-contrast":[{"backdrop-contrast":[w,g,m]}],"backdrop-grayscale":[{"backdrop-grayscale":["",w,g,m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[w,g,m]}],"backdrop-invert":[{"backdrop-invert":["",w,g,m]}],"backdrop-opacity":[{"backdrop-opacity":[w,g,m]}],"backdrop-saturate":[{"backdrop-saturate":[w,g,m]}],"backdrop-sepia":[{"backdrop-sepia":["",w,g,m]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":p()}],"border-spacing-x":[{"border-spacing-x":p()}],"border-spacing-y":[{"border-spacing-y":p()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",g,m]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[w,"initial",g,m]}],ease:[{ease:["linear","initial",L,g,m]}],delay:[{delay:[w,g,m]}],animate:[{animate:["none",_,g,m]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,g,m]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:te()}],"scale-x":[{"scale-x":te()}],"scale-y":[{"scale-y":te()}],"scale-z":[{"scale-z":te()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[g,m,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:b()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:b()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",g,m]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":p()}],"scroll-mx":[{"scroll-mx":p()}],"scroll-my":[{"scroll-my":p()}],"scroll-ms":[{"scroll-ms":p()}],"scroll-me":[{"scroll-me":p()}],"scroll-mt":[{"scroll-mt":p()}],"scroll-mr":[{"scroll-mr":p()}],"scroll-mb":[{"scroll-mb":p()}],"scroll-ml":[{"scroll-ml":p()}],"scroll-p":[{"scroll-p":p()}],"scroll-px":[{"scroll-px":p()}],"scroll-py":[{"scroll-py":p()}],"scroll-ps":[{"scroll-ps":p()}],"scroll-pe":[{"scroll-pe":p()}],"scroll-pt":[{"scroll-pt":p()}],"scroll-pr":[{"scroll-pr":p()}],"scroll-pb":[{"scroll-pb":p()}],"scroll-pl":[{"scroll-pl":p()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",g,m]}],fill:[{fill:["none",...b()]}],"stroke-w":[{stroke:[w,X,Y,je]}],stroke:[{stroke:["none",...b()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ot=pt(It);function k(...e){return Ot(Fe(e))}function zt({onClick:e,isDark:r,hasText:t}){const[o,i]=j.useState(!1),[n,a]=j.useState(!1),[u,d]=j.useState(!1);return j.useEffect(()=>{const c=setTimeout(()=>i(!0),100);return()=>clearTimeout(c)},[]),j.useEffect(()=>{if(n){const c=setTimeout(()=>d(!0),500);return()=>clearTimeout(c)}else d(!1)},[n]),s.jsxs("div",{className:"relative inline-flex items-center",children:[u&&s.jsxs("div",{className:k("absolute bottom-full mb-2 left-1/2 -translate-x-1/2 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap shadow-lg pointer-events-none","animate-in fade-in slide-in-from-bottom-1 duration-150",r?"bg-gray-100 text-gray-900":"bg-gray-900 text-white"),children:["Refine this prompt",s.jsx("span",{className:k("absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent",r?"border-t-gray-100":"border-t-gray-900")})]}),s.jsx("button",{onClick:e,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),style:{opacity:o?t?1:.6:0,transform:n?"scale(1.08)":"scale(1)",transition:"opacity 0.3s ease, transform 0.15s ease"},className:k("w-8 h-8 rounded-full flex items-center justify-center shadow-lg cursor-pointer","focus:outline-none focus:ring-2 focus:ring-offset-1",r?"bg-blue-600 hover:bg-blue-500 text-white focus:ring-blue-400":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"),"aria-label":"Refine this prompt with Prompt Architect",title:"Refine this prompt",children:s.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zm7-10a1 1 0 01.707.293l.828.829A1 1 0 0114 4.828l3.536 3.535a1 1 0 010 1.415L14 13.31a1 1 0 01-.707.293H11a1 1 0 01-.707-.293L6.757 9.775a1 1 0 010-1.414l3.536-3.536A1 1 0 0111 4.532V2a1 1 0 011-1z",clipRule:"evenodd"})})})]})}function Mt({question:e,currentIndex:r,total:t,existingAnswer:o,onAnswer:i,onNext:n,onBack:a,onSkip:u,isDark:d}){const[c,f]=j.useState(()=>o?.value??(e.type==="checkbox"?[]:e.type==="scale"?5:"")),[v,y]=j.useState(()=>{if(e.type==="radio"&&typeof o?.value=="string"&&o.value.startsWith("Other: "))return o.value.replace("Other: ","");if(e.type==="checkbox"&&Array.isArray(o?.value)){const l=o.value.find(x=>typeof x=="string"&&x.startsWith("Other: "));return l?l.replace("Other: ",""):""}return""}),S=j.useRef(null);j.useEffect(()=>{setTimeout(()=>S.current?.focus(),100)},[e.id]);const z=()=>{let l=c;if(e.type==="radio"&&c==="Other"&&(v.trim()?l=`Other: ${v.trim()}`:l="Other"),e.type==="checkbox"&&Array.isArray(c)){const p=c.includes("Other"),h=c.filter(O=>O!=="Other");p&&v.trim()?l=[...h,`Other: ${v.trim()}`]:p?l=[...h,"Other"]:l=h}(Array.isArray(l)?l.length===0:l===""||l===null)&&e.required||(i({questionId:e.id,value:l}),n())},C=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),z())},T=Array.isArray(c)?c.length>0:c!==""&&c!==null,L=(r+1)/t*100,_=d?"bg-gray-900 text-gray-100 border-gray-700":"bg-white text-gray-900 border-gray-200",N=d?"bg-gray-800 border-gray-600 text-gray-100 placeholder-gray-500 focus:border-blue-400":"bg-gray-50 border-gray-300 text-gray-900 placeholder-gray-400 focus:border-blue-500",M="bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-40 disabled:cursor-not-allowed",I=d?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700";return s.jsxs("div",{className:k("flex flex-col h-full",_),children:[s.jsx("div",{className:k("h-1 w-full",d?"bg-gray-700":"bg-gray-100"),children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500 ease-out",style:{width:`${L}%`}})}),s.jsxs("div",{className:"px-6 pt-4 pb-2 text-sm text-center opacity-60",children:["Question ",r+1," of ",t]}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-4 gap-6 overflow-y-auto",children:[s.jsx("p",{className:"text-lg font-semibold leading-snug text-center",children:e.question}),e.type==="text"&&s.jsx("textarea",{ref:S,value:c,onChange:l=>f(l.target.value),onKeyDown:C,placeholder:"Type your answer...",rows:4,className:k("w-full resize-none rounded-xl border px-4 py-3 text-sm outline-none transition-colors",N)}),e.type==="radio"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2 max-h-56 overflow-y-auto pr-1",children:[e.options?.map(l=>s.jsx("button",{onClick:()=>f(l),className:k("w-full text-left px-4 py-3 rounded-xl border text-sm font-medium transition-all",c===l?"border-blue-500 bg-blue-600 text-white":d?"border-gray-600 bg-gray-800 text-gray-200 hover:border-blue-400":"border-gray-300 bg-white text-gray-800 hover:border-blue-400"),children:l},l)),s.jsx("button",{onClick:()=>f("Other"),className:k("w-full text-left px-4 py-3 rounded-xl border text-sm font-medium transition-all",c==="Other"?"border-blue-500 bg-blue-600 text-white":d?"border-gray-600 bg-gray-800 text-gray-200 hover:border-blue-400":"border-gray-300 bg-white text-gray-800 hover:border-blue-400"),children:"Other (please specify)"})]}),c==="Other"&&s.jsx("input",{type:"text",value:v,onChange:l=>y(l.target.value),placeholder:"Please specify...",autoFocus:!0,className:k("w-full rounded-xl border px-4 py-3 text-sm outline-none transition-colors",N)})]}),e.type==="checkbox"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-2 max-h-56 overflow-y-auto pr-1",children:[e.options?.map(l=>{const x=c.includes(l);return s.jsxs("button",{onClick:()=>{const p=c;f(x?p.filter(h=>h!==l):[...p,l])},className:k("w-full text-left px-4 py-3 rounded-xl border text-sm font-medium transition-all flex items-center gap-3",x?"border-blue-500 bg-blue-600 text-white":d?"border-gray-600 bg-gray-800 text-gray-200 hover:border-blue-400":"border-gray-300 bg-white text-gray-800 hover:border-blue-400"),children:[s.jsx("span",{className:k("w-4 h-4 rounded border-2 flex-shrink-0 flex items-center justify-center",x?"border-white bg-transparent":"border-current"),children:x&&s.jsx("svg",{viewBox:"0 0 10 8",className:"w-3 h-3 fill-current",children:s.jsx("path",{d:"M1 4l3 3 5-6",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),l]},l)}),s.jsxs("button",{onClick:()=>{const l=c,x=l.includes("Other");f(x?l.filter(p=>p!=="Other"):[...l,"Other"])},className:k("w-full text-left px-4 py-3 rounded-xl border text-sm font-medium transition-all flex items-center gap-3",c.includes("Other")?"border-blue-500 bg-blue-600 text-white":d?"border-gray-600 bg-gray-800 text-gray-200 hover:border-blue-400":"border-gray-300 bg-white text-gray-800 hover:border-blue-400"),children:[s.jsx("span",{className:k("w-4 h-4 rounded border-2 flex-shrink-0 flex items-center justify-center",c.includes("Other")?"border-white bg-transparent":"border-current"),children:c.includes("Other")&&s.jsx("svg",{viewBox:"0 0 10 8",className:"w-3 h-3 fill-current",children:s.jsx("path",{d:"M1 4l3 3 5-6",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}),"Other (please specify)"]})]}),c.includes("Other")&&s.jsx("input",{type:"text",value:v,onChange:l=>y(l.target.value),placeholder:"Please specify...",className:k("w-full rounded-xl border px-4 py-3 text-sm outline-none transition-colors",N)})]}),e.type==="scale"&&s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("input",{ref:S,type:"range",min:1,max:10,value:c,onChange:l=>f(Number(l.target.value)),className:"w-full accent-blue-500"}),s.jsxs("div",{className:"flex justify-between text-xs opacity-60",children:[s.jsx("span",{children:"1"}),s.jsx("span",{className:"text-base font-bold opacity-100",children:c}),s.jsx("span",{children:"10"})]})]})]}),s.jsxs("div",{className:k("flex items-center justify-between px-6 py-4 border-t",d?"border-gray-700":"border-gray-100"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r>0&&s.jsx("button",{onClick:a,className:k("px-4 py-2 rounded-lg text-sm font-medium transition-colors",I),children:"â† Back"}),!e.required&&s.jsx("button",{onClick:u,className:"text-sm opacity-50 hover:opacity-80 transition-opacity underline",children:"Skip"})]}),s.jsx("button",{onClick:z,disabled:!T&&e.required,className:k("px-5 py-2 rounded-lg text-sm font-semibold transition-all",M),children:r===t-1?"Finish â†’":"Next â†’"})]})]})}function Lt({megaPrompt:e,originalTopic:r,isDark:t,onReplace:o,onAppend:i,onCopy:n,onStartOver:a,onClose:u}){const[d,c]=j.useState(!1),[f,v]=j.useState(!1),[y,S]=j.useState(e),[z,C]=j.useState(!1),T=()=>{navigator.clipboard.writeText(y).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}),n()},L=()=>{o(),C(!0),setTimeout(()=>C(!1),5e3)},_=t?"bg-gray-900 text-gray-100":"bg-white text-gray-900",N=t?"text-gray-400":"text-gray-500",M=t?"bg-gray-800 border-gray-700 text-gray-100":"bg-gray-50 border-gray-200 text-gray-800",I=t?"bg-gray-700 hover:bg-gray-600 text-gray-200 border border-gray-600":"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300",l=r.length>55?r.slice(0,55)+"...":r;return s.jsxs("div",{className:k("flex flex-col h-full",_),children:[s.jsxs("div",{className:"flex items-start justify-between px-6 pt-5 pb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-base font-bold text-green-500",children:"Your Mega-Prompt is Ready!"}),s.jsxs("p",{className:k("text-xs mt-1 truncate",N),children:['Refined: "',l,'"']})]}),s.jsx("button",{onClick:u,className:k("ml-3 flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center text-lg leading-none transition-colors",t?"hover:bg-red-600 text-gray-400":"hover:bg-red-500 hover:text-white text-gray-400"),children:"Ã—"})]}),s.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col px-6 gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:k("text-xs font-medium",N),children:"CO-STAR Mega-Prompt"}),s.jsx("button",{onClick:()=>v(x=>!x),className:k("text-xs px-2 py-1 rounded-md transition-colors",I),children:f?"Preview":"Edit"})]}),s.jsx("div",{className:k("max-h-60 overflow-y-auto rounded-xl border text-xs leading-relaxed",M),children:f?s.jsx("textarea",{value:y,onChange:x=>S(x.target.value),className:k("w-full h-full min-h-[200px] p-4 resize-none outline-none bg-transparent font-mono",t?"text-gray-100":"text-gray-800")}):s.jsx("pre",{className:"p-4 whitespace-pre-wrap font-mono",children:y})})]}),s.jsxs("div",{className:"px-6 pt-3 pb-2 flex flex-col gap-2",children:[s.jsxs("button",{onClick:L,className:"w-full py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold text-sm transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Replace Text in Chat"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:i,className:k("flex-1 py-2 rounded-xl text-sm font-medium transition-colors",I),children:"+ Append"}),s.jsx("button",{onClick:T,className:k("flex-1 py-2 rounded-xl text-sm font-medium transition-colors",I),children:d?"âœ“ Copied!":"ðŸ“‹ Copy"})]})]}),s.jsxs("div",{className:k("flex items-center justify-center gap-4 px-6 pb-4 pt-1 text-xs",N),children:[s.jsx("button",{onClick:a,className:"hover:underline transition-opacity hover:opacity-100 opacity-70",children:"Start Over"}),s.jsx("span",{children:"â€¢"}),s.jsx("button",{className:"hover:underline transition-opacity hover:opacity-100 opacity-70",children:"Save to History"})]}),z&&s.jsxs("div",{className:"absolute bottom-16 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-4 py-2 rounded-full shadow-lg flex items-center gap-3 whitespace-nowrap animate-in slide-in-from-bottom-2",children:["Prompt replaced",s.jsx("button",{onClick:()=>{C(!1)},className:"underline opacity-80 hover:opacity-100",children:"Undo"})]})]})}const Gt=[{trigger:"python",category:"Programming Language",injectedText:`**Python Best Practices:**
- Follow PEP 8 style guide (4-space indentation, snake_case naming)
- Use type hints (e.g., def greet(name: str) -> str:)
- Prefer f-strings for formatting
- Use virtual environments (venv or conda)
- Handle exceptions with specific except clauses
- Write docstrings for public functions and classes`},{trigger:"javascript",category:"Programming Language",injectedText:`**JavaScript Best Practices:**
- Use const/let (never var)
- Prefer async/await over raw Promises
- Use strict equality (===)
- Handle errors with try/catch in async functions
- Follow ESLint + Prettier for code style
- Use ES2020+ features where supported`},{trigger:"typescript",category:"Programming Language",injectedText:`**TypeScript Best Practices:**
- Enable strict mode in tsconfig.json
- Avoid using 'any' â€” use 'unknown' for truly unknown types
- Define explicit return types for public functions
- Use interface for object shapes, type for unions/aliases
- Leverage discriminated unions for state modeling
- Use Zod or similar for runtime validation`},{trigger:"react",category:"Framework",injectedText:`**React Best Practices:**
- Use functional components + hooks (never class components for new code)
- Keep components small and single-responsibility
- Lift state only as high as necessary
- Memoize expensive calculations with useMemo
- Use useCallback for stable function references passed to children
- Prefer composition over prop-drilling; use Context sparingly`},{trigger:"next.js",category:"Framework",injectedText:`**Next.js Best Practices:**
- Use the App Router (app/ directory) for new projects
- Prefer Server Components; use 'use client' only when needed
- Use Server Actions for form handling and mutations
- Leverage ISR or dynamic rendering based on data freshness needs
- Use next/image for all images (automatic optimization)
- Store secrets in .env.local (never commit to git)`},{trigger:"django",category:"Framework",injectedText:`**Django Best Practices:**
- Follow the Fat Models, Thin Views pattern
- Use Django REST Framework for APIs
- Keep settings split: base.py, development.py, production.py
- Use select_related / prefetch_related to avoid N+1 queries
- Write model-level validation, not just form-level
- Use Django's built-in auth system; extend AbstractUser if needed`},{trigger:"healthcare",category:"Industry",injectedText:`**Healthcare Compliance Context:**
- HIPAA compliance is mandatory for any PHI (Protected Health Information)
- Data encryption required at rest and in transit
- Audit trails must be maintained for all PHI access
- Minimum necessary principle: only access data required for the task
- Business Associate Agreements (BAA) required with third-party vendors
- Consider HL7 FHIR standards for health data interoperability`},{trigger:"finance",category:"Industry",injectedText:`**Financial Compliance Context:**
- PCI-DSS compliance required for payment card data
- SOX compliance for publicly traded companies (audit trails, internal controls)
- GDPR / CCPA considerations for customer financial data
- Data residency requirements may restrict where data is stored
- Immutable transaction logs are a regulatory requirement
- Consider FINRA regulations for investment-related features`},{trigger:"education",category:"Industry",injectedText:`**Education Context:**
- FERPA compliance required for student educational records (US)
- COPPA compliance if serving users under 13
- Accessibility (WCAG 2.1 AA) is both a legal and ethical requirement
- Consider diverse learning styles: visual, auditory, kinesthetic
- Design for varying tech literacy levels (students, teachers, admins)
- Offline-first approach benefits low-connectivity environments`},{trigger:"academic",category:"Writing Style",injectedText:`**Academic Writing Standards:**
- Use formal, objective tone â€” avoid first person unless specified
- Support all claims with citations (APA, MLA, or Chicago style)
- Define technical terms before first use
- Use passive voice judiciously (active generally preferred now)
- Structure: Introduction â†’ Literature Review â†’ Methodology â†’ Results â†’ Discussion â†’ Conclusion
- Avoid contractions and colloquialisms`},{trigger:"beginner",category:"Audience Level",injectedText:`**Beginner Audience Guidelines:**
- Avoid jargon; when technical terms are unavoidable, define them immediately
- Use analogies to familiar, everyday concepts
- Short paragraphs and sentences (max 20 words per sentence as a guide)
- Include step-by-step instructions with numbered lists
- Anticipate confusion points and address them proactively
- Use encouraging, supportive tone`},{trigger:"expert",category:"Audience Level",injectedText:`**Expert Audience Guidelines:**
- Assume deep domain knowledge â€” skip introductory context
- Use precise technical terminology without definition
- Focus on nuance, edge cases, and advanced patterns
- Reference relevant standards, papers, or established best practices
- Be concise â€” experts value density of information
- Welcome debate and alternative approaches`}];function Bt(e,r=[]){const t=[...Gt,...r],o=[],i=new Set,n=e.flatMap(a=>Array.isArray(a.value)?a.value:[String(a.value)]).join(" ").toLowerCase();for(const a of t)i.has(a.trigger)||n.includes(a.trigger.toLowerCase())&&(o.push(a),i.add(a.trigger));return o}function $t(e){return e.length===0?"":`

---
## Additional Context (Auto-Injected)

${e.map(t=>t.injectedText).join(`

`)}`}const qt={writing:["write","draft","email","letter","message","article","blog","essay","document","report","memo","note","respond","reply","communicate"],coding:["code","program","develop","build","implement","fix","debug","refactor","function","app","website","api","script","bug","error","test"],marketing:["marketing","campaign","strategy","launch","promote","brand","audience","advertising","content","social","seo","growth","engagement","conversion"],design:["design","ui","ux","interface","layout","mockup","prototype","wireframe","visual","graphic","logo","branding","style","aesthetic"],analysis:["analyze","research","plan","strategy","evaluate","assess","review","compare","investigate","study","examine","understand","explore"]};function _t(e){const r=e.toLowerCase(),t={writing:0,coding:0,marketing:0,design:0,analysis:0};for(const[i,n]of Object.entries(qt))for(const a of n)r.includes(a)&&t[i]++;const o=Object.entries(t);return o.sort((i,n)=>n[1]-i[1]),o[0][1]>0?o[0][0]:"writing"}const Ut={email:["email","message","letter","reply","respond","mail"],document:["document","doc","report","memo","article","blog","essay","write"],plan:["plan","roadmap","timeline","schedule","outline","strategy"],code:["code","function","script","program","app","implement","build","debug","fix"],prompt:["prompt","instruction","template","guideline"],strategy:["strategy","campaign","approach","framework","methodology"],script:["script","automation","workflow","pipeline"],other:[]};function Wt(e){const r=e.toLowerCase(),t={email:0,document:0,plan:0,code:0,prompt:0,strategy:0,script:0,other:0};for(const[i,n]of Object.entries(Ut))for(const a of n)r.includes(a)&&t[i]++;const o=Object.entries(t);return o.sort((i,n)=>n[1]-i[1]),o[0][1]>0?o[0][0]:"other"}function We(e){switch(e){case"writing":return`<example>
Topic: "write an email to a client about delayed delivery"

Good output questions:
- deliverable (radio): "What type of message is this?" options: ["Apology + new ETA", "Status update", "Compensation offer", "Request more time"]
- audience (radio): "Who is the recipient?" options: ["New client", "Existing client", "Enterprise stakeholder", "Internal team"]
- constraints (checkbox): "Any constraints to follow?" options: ["Must be under 120 words", "Must include new ETA date", "Avoid admitting fault", "Include escalation contact"]
- inputs (text): "What order/project details must be referenced (order ID, product, promised date)?"
</example>`;case"coding":return`<example>
Topic: "fix a bug in my React app"

Good output questions:
- inputs (checkbox): "What can you share?" options: ["Error message", "Relevant code snippet", "Steps to reproduce", "Expected vs actual behavior"]
- constraints (radio): "Where should the fix be applied?" options: ["Minimal change", "Refactor ok", "Performance priority", "Stability priority"]
- deliverable (radio): "What output do you want?" options: ["Patch diff", "Explanation + fix", "Step-by-step debug plan", "Refactor proposal"]
- environment (constraints, text): "React version, bundler (Vite/Next), and where it runs (dev/prod)?"
</example>`;case"marketing":return`<example>
Topic: "make a campaign plan for a new skincare launch"

Good output questions:
- deliverable (radio): "What do you need?" options: ["One-page strategy", "Channel plan", "Creative angles", "Full deck outline"]
- audience (radio): "Who is this for?" options: ["Brand manager", "Agency team", "Leadership", "Sales enablement"]
- constraints (checkbox): "Key constraints?" options: ["Budget range", "Timeline", "Geos", "Must include benchmarks/citations", "Regulatory limits"]
- inputs (text): "Product RTBs, target persona, and any prior performance data?"
- style_tone (scale): "1=corporate formal, 10=Gen Z punchy"
</example>`;case"design":return`<example>
Topic: "design a mobile app login screen"

Good output questions:
- deliverable (radio): "What do you need?" options: ["Figma mockup", "Design brief", "Component specs", "Interactive prototype"]
- audience (radio): "Who will use this app?" options: ["Consumers", "Enterprise users", "Internal team", "Multi-tenant"]
- constraints (checkbox): "Design requirements?" options: ["Must support social login", "Biometric auth", "WCAG AA compliance", "Match existing brand"]
- inputs (text): "Link to brand guidelines, existing UI kit, or reference designs?"
</example>`;case"analysis":return`<example>
Topic: "analyze competitor pricing strategy"

Good output questions:
- deliverable (radio): "What output format?" options: ["Executive summary", "Detailed report", "Comparison matrix", "Action recommendations"]
- audience (radio): "Who is this for?" options: ["CEO/leadership", "Product team", "Sales enablement", "Investor deck"]
- inputs (checkbox): "What data can you provide?" options: ["Competitor names", "Price points", "Feature comparisons", "Market segment"]
- constraints (text): "Timeline, geographic scope, or must-include/must-avoid elements?"
</example>`;default:return We("writing")}}function Ft(e,r,t){return`You are a Socratic prompt engineer specialized in ${r} tasks.

<role>
Your job is to ask high-impact clarification questions that maximize information gain and improve final output quality.
You are NOT a solution provider. You are an interviewer who helps users articulate their needs precisely.
</role>

<context>
Task Family: ${r}
Expected Deliverable Type: ${t}
</context>

<rules>
- Generate EXACTLY 3 to 5 questions.
- Each question must cover a UNIQUE dimension from:
  deliverable, audience, inputs, constraints, style_tone
- Prioritize "highest-impact uncertainty": ask what would most change the final output.
- Intent lock: Do NOT change the user's goal or task type. Do NOT propose solutions. Do NOT assume missing facts.
- If the topic already clearly contains a dimension, do not ask that dimension again.
- Be specific: never ask "tell me more" or vague questions.
- Avoid redundancy: each question should maximize unique information gain.
- Output MUST be valid JSON only (no markdown, no commentary).
</rules>

<output_schema>
Return a JSON array of objects with:
{
  "id": "q1" | "q2" | "q3" | "q4" | "q5",
  "dimension": "deliverable" | "audience" | "inputs" | "constraints" | "style_tone",
  "question": "string",
  "type": "radio" | "checkbox" | "text" | "scale",
  "options": ["..."] (required for radio/checkbox; omit otherwise),
  "required": true | false
}
</output_schema>

${e}

<self_check_before_output>
Verify:
- 3â€“5 items
- unique dimensions
- radio/checkbox include options; scale/text omit options
- questions are specific and aligned to the original goal
- questions maximize information gain (not fluff)
If any check fails, silently revise and output only the corrected JSON.
</self_check_before_output>`}function Kt(e){return`<topic>
The user wants to: "${e}"
</topic>

Generate the questions now.`}function Vt(e,r){return`${e}

<repair>
Previous output had error: ${r}
Fix it and return valid JSON.
</repair>`}function Ht(){return`You are a master prompt engineer. Compile interview answers into a single structured CO-STAR mega-prompt that is ready to paste into Claude or ChatGPT.

<role>
You transform raw Q&A data into a clean, actionable mega-prompt that maximizes AI output quality.
You prioritize signal over noise and ensure every word adds value.
</role>

<rules>
- Convert the Interview Q&A into a compact "Decision Summary" (not a verbatim dump).
- Prioritize only decisions that materially affect the output.
- If an answer is vague/low-signal, compress it to <= 10 words.
- If answers conflict or essential info is missing, add 1â€“3 "Open Questions" at the end.
- Keep the final mega-prompt ~250â€“400 words unless the user explicitly requested long form.
- Output in clear markdown.
</rules>

<reasoning_scaffolding>
Before generating the final output:
1. Outline approach: What are the key decisions from the Q&A?
2. Verify constraints: Are there must-include/must-avoid elements?
3. Produce final output: Compile into CO-STAR format.

Think through these steps internally, but only output the final mega-prompt.
</reasoning_scaffolding>

<format>
### CO-STAR Mega-Prompt: {title}

**Context:**
...

**Objective:**
...

**Style:**
...

**Tone:**
...

**Audience:**
...

**Response Requirements:**
- bullets...

**Open Questions (if needed):**
- ...
</format>`}function Dt(e,r,t,o){const i=r.map(n=>`Q: ${t.find(u=>u.id===n.questionId)?.question??n.questionId}
A: ${Array.isArray(n.value)?n.value.join(", "):n.value}`).join(`

`);return`<original_goal>
"${e}"
</original_goal>

<decision_inputs>
Interview Q&A:
${i}

Auto-injected context blocks:
${o}
</decision_inputs>

Compile into CO-STAR mega-prompt now.`}function Yt(e,r){if(e.filter(n=>{if(typeof n.value=="string"){const a=n.value.toLowerCase().trim();return a.length<10||a==="not sure"||a==="maybe"||a==="idk"||a==="n/a"}return!1}).length>=2)return{needsCritic:!0,reason:"Multiple vague answers detected"};if(r.filter(n=>n.required&&!e.find(a=>a.questionId===n.id)).length>0)return{needsCritic:!0,reason:"Missing required information"};const i=e.filter(n=>r.find(u=>u.id===n.questionId)?.dimension==="constraints");if(i.length>1){const n=i.map(u=>Array.isArray(u.value)?u.value.join(" "):String(u.value)).join(" ").toLowerCase();if(n.includes("formal")&&n.includes("casual")||n.includes("short")&&n.includes("long")||n.includes("technical")&&n.includes("simple"))return{needsCritic:!0,reason:"Potential conflicting constraints"}}return{needsCritic:!1}}function Qt(){return`You are a prompt quality critic. Your job is to improve an existing mega-prompt for clarity and specificity without changing the user's intent.

<role>
You refine prompts by:
- Removing ambiguity
- Adding missing critical details when inferable
- Improving structure for better AI comprehension
- Maintaining the original goal and constraints
</role>

<rules>
- Do NOT change the user's original intent or goal.
- Do NOT add features or requirements that weren't requested.
- Do improve clarity, specificity, and actionability.
- Keep the length similar (~250-400 words).
- Output the improved mega-prompt in the same CO-STAR format.
</rules>`}function Jt(e,r){return`<original_mega_prompt>
${e}
</original_mega_prompt>

<improvement_context>
This prompt needs improvement because: ${r}
</improvement_context>

Improve the mega-prompt for clarity and specificity while maintaining the original intent.`}async function Xt(e,r){const t=window;if(!t.ai?.languageModel)throw new Error("Local AI (window.ai) is not available");const o=await t.ai.languageModel.create({systemPrompt:e}),i=await o.prompt(r);return o.destroy(),i}async function Zt(e,r,t){const o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o",temperature:.7,messages:[{role:"system",content:e},{role:"user",content:r}]})});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error(`OpenAI error: ${n?.error?.message??o.statusText}`)}return(await o.json()).choices[0].message.content}async function er(e,r,t){const o=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:"claude-sonnet-4-5-20250929",max_tokens:2048,system:e,messages:[{role:"user",content:r}]})});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error(`Anthropic error: ${n?.error?.message??o.statusText}`)}return(await o.json()).content[0].text}async function tr(e,r,t){const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}],systemInstruction:{parts:[{text:e}]},generationConfig:{temperature:.7,maxOutputTokens:2048}})});if(!o.ok){const n=await o.json().catch(()=>({}));throw new Error(`Gemini error: ${n?.error?.message??o.statusText}`)}return(await o.json()).candidates[0].content.parts[0].text}async function ie(e,r,t){switch(t.provider){case"local":return Xt(e,r);case"openai":if(!t.apiKey)throw new Error("OpenAI API key not configured");return Zt(e,r,t.apiKey);case"anthropic":if(!t.apiKey)throw new Error("Anthropic API key not configured");return er(e,r,t.apiKey);case"gemini":if(!t.apiKey)throw new Error("Gemini API key not configured");return tr(e,r,t.apiKey);default:throw new Error(`Unknown AI provider: ${t.provider}`)}}async function rr(e,r){const t=_t(e),o=Wt(e),i=We(t);console.log(`[AI Engine] Task: ${t}, Deliverable: ${o}`);const n=Ft(i,t,o),a=Kt(e);let u=await ie(n,a,r),d=u.replace(/```json?\n?/gi,"").replace(/```/g,"").trim(),c,f=0;const v=1;for(;f<=v;)try{c=JSON.parse(d);const y=or(c);if(y&&f<v){console.warn("[AI Engine] Question validation failed, retrying...",y);const S=Vt(n,y);u=await ie(S,a,r),d=u.replace(/```json?\n?/gi,"").replace(/```/g,"").trim(),f++;continue}else if(y)throw new Error(y);break}catch{if(f>=v)throw new Error("AI returned malformed JSON for questions. Please try again.");f++}return c.map((y,S)=>({id:y.id??`q${S+1}`,question:y.question,dimension:y.dimension??"constraints",type:y.type??"text",options:y.options??[],required:y.required??!0}))}function or(e){if(!Array.isArray(e))return"Output must be an array";if(e.length<3||e.length>5)return`Must have 3-5 questions, got ${e.length}`;const r=e.map(o=>o.dimension).filter(Boolean),t=new Set(r);if(r.length!==t.size)return"Dimensions must be unique (no duplicates)";for(const o of e)if((o.type==="radio"||o.type==="checkbox")&&(!o.options||o.options.length===0))return`Question "${o.question}" is ${o.type} type but has no options`;return null}async function nr(e,r,t,o){const i=Bt(t,o.customVariables??[]),n=$t(i),a=Ht(),u=Dt(e,t,r,n);let d=await ie(a,u,o);d=d.trim();const{needsCritic:c,reason:f}=Yt(t,r);if(c&&f){console.log(`[AI Engine] Running critic step: ${f}`);try{const v=Qt(),y=Jt(d,f);d=(await ie(v,y,o)).trim(),console.log("[AI Engine] Critic step completed successfully")}catch(v){console.warn("[AI Engine] Critic step failed, using original mega-prompt",v)}}else console.log("[AI Engine] Skipping critic step (not needed)");return d}async function ar(){try{const e=window;return!("ai"in e)||!("languageModel"in e.ai)?!1:(await e.ai.languageModel.capabilities()).available==="readily"}catch{return!1}}async function Te(){if(typeof chrome>"u"||!chrome.storage)return{provider:"local"};const e=await chrome.storage.local.get(["apiKeys","aiProvider"]),r=e.aiProvider??"local",t=e.apiKeys??{};return{provider:r,apiKey:r==="openai"?t.openai:r==="anthropic"?t.anthropic:r==="gemini"?t.gemini:void 0}}function ir({topic:e,isDark:r,onClose:t,onReplaceText:o,onAppendText:i}){const[n,a]=j.useState("loading"),[u,d]=j.useState([]),[c,f]=j.useState([]),[v,y]=j.useState(0),[S,z]=j.useState(""),[C,T]=j.useState(""),[L,_]=j.useState(0);j.useEffect(()=>{let h=!1;async function O(){try{const A=await Te();if(A.provider==="local"&&!await ar()){const E=(typeof chrome<"u"?await chrome.storage.local.get(["apiKeys"]):{apiKeys:{}}).apiKeys??{};if(E.gemini)A.provider="gemini",A.apiKey=E.gemini;else if(E.openai)A.provider="openai",A.apiKey=E.openai;else if(E.anthropic)A.provider="anthropic",A.apiKey=E.anthropic;else{T("No AI provider available. Please add an API key in Settings."),a("error");return}}let G;if(A.provider==="local")try{G=await rr(e,A)}catch{const E=(typeof chrome<"u"?await chrome.storage.local.get(["apiKeys"]):{apiKeys:{}}).apiKeys??{};if(E.gemini)A.provider="gemini",A.apiKey=E.gemini;else if(E.openai)A.provider="openai",A.apiKey=E.openai;else if(E.anthropic)A.provider="anthropic",A.apiKey=E.anthropic;else throw new Error("Local AI is not available. Please add a cloud API key in Settings (Gemini is free!)");const U=await chrome.runtime.sendMessage({type:"GENERATE_QUESTIONS",payload:{topic:e,provider:A.provider}});if(h)return;if(U.error)throw new Error(U.error);G=U.questions}else{const B=await chrome.runtime.sendMessage({type:"GENERATE_QUESTIONS",payload:{topic:e,provider:A.provider}});if(h)return;if(B.error)throw new Error(B.error);G=B.questions}if(h)return;d(G),a("interview")}catch(A){h||(T(A.message??"Failed to generate questions. Please try again."),a("error"))}}return O(),()=>{h=!0}},[e,L]),j.useEffect(()=>{const h=O=>{O.key==="Escape"&&t()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[t]);const N=j.useCallback(h=>{f(O=>{const A=O.findIndex(G=>G.questionId===h.questionId);if(A>=0){const G=[...O];return G[A]=h,G}return[...O,h]})},[]),M=j.useCallback(async()=>{if(v<u.length-1){y(h=>h+1);return}a("compiling");try{const h=await Te();let O;if(h.provider==="local")try{O=await nr(e,u,c,h)}catch{const B=(typeof chrome<"u"?await chrome.storage.local.get(["apiKeys"]):{apiKeys:{}}).apiKeys??{};if(B.gemini)h.provider="gemini",h.apiKey=B.gemini;else if(B.openai)h.provider="openai",h.apiKey=B.openai;else if(B.anthropic)h.provider="anthropic",h.apiKey=B.anthropic;else throw new Error("Local AI is not available. Please add a cloud API key in Settings (Gemini is free!)");const F=await chrome.runtime.sendMessage({type:"GENERATE_MEGA_PROMPT",payload:{topic:e,answers:c,questions:u,provider:h.provider}});if(F.error)throw new Error(F.error);O=F.megaPrompt}else{const A=await chrome.runtime.sendMessage({type:"GENERATE_MEGA_PROMPT",payload:{topic:e,answers:c,questions:u,provider:h.provider}});if(A.error)throw new Error(A.error);O=A.megaPrompt}z(O),a("result")}catch(h){T(h.message??"Failed to compile prompt. Please try again."),a("error")}},[v,u,c,e]),I=j.useCallback(()=>{y(h=>Math.max(0,h-1))},[]),l=j.useCallback(()=>{M()},[M]),x=r?"bg-gray-900 text-gray-100":"bg-white text-gray-900",p=r?"text-gray-400":"text-gray-500";return s.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)",backgroundColor:"rgba(0,0,0,0.5)",pointerEvents:"auto"},onClick:h=>{h.target===h.currentTarget&&t()},children:s.jsxs("div",{className:k("relative rounded-2xl shadow-2xl flex flex-col overflow-hidden","animate-in slide-in-from-bottom-4 fade-in duration-200",x),style:{width:480,maxHeight:500,minHeight:380},onClick:h=>h.stopPropagation(),children:[(n==="loading"||n==="compiling"||n==="error")&&s.jsx("button",{onClick:t,className:k("absolute top-3 right-4 w-7 h-7 rounded-full flex items-center justify-center text-lg transition-colors z-10",r?"hover:bg-red-600 text-gray-400":"hover:bg-red-500 hover:text-white text-gray-400"),children:"Ã—"}),n==="loading"&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 p-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-blue-500 border-t-transparent animate-spin"}),s.jsx("p",{className:k("text-sm",p),children:"Analyzing your topic..."})]}),n==="interview"&&u[v]&&s.jsx(Mt,{question:u[v],currentIndex:v,total:u.length,existingAnswer:c.find(h=>h.questionId===u[v].id),onAnswer:N,onNext:M,onBack:I,onSkip:l,isDark:r}),n==="compiling"&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 p-10",children:[s.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-green-500 border-t-transparent animate-spin"}),s.jsx("p",{className:k("text-sm",p),children:"Building your Mega-Prompt..."})]}),n==="result"&&s.jsx(Lt,{megaPrompt:S,originalTopic:e,isDark:r,onReplace:()=>{o(S),t()},onAppend:()=>{i(S),t()},onCopy:()=>{},onStartOver:()=>{a("loading"),f([]),y(0)},onClose:t}),n==="error"&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-5 p-10 text-center",children:[s.jsx("div",{className:"text-4xl",children:"âš ï¸"}),s.jsx("p",{className:"text-sm font-medium",children:C}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{f([]),y(0),_(h=>h+1),a("loading")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors",children:"Retry"}),s.jsx("button",{onClick:t,className:k("px-4 py-2 rounded-lg text-sm font-medium transition-colors",r?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:"Close"})]}),C.includes("API key")&&s.jsx("p",{className:k("text-xs",p),children:"Open the extension popup â†’ Settings to add your API key."})]})]})})}function sr(e){const r=Object.getOwnPropertyDescriptor(e.tagName==="TEXTAREA"?HTMLTextAreaElement.prototype:HTMLElement.prototype,"value")?.set;r&&r.call(e,e.value),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))}const lr={id:"chatgpt",name:"ChatGPT",textAreaSelectors:["#prompt-textarea",'textarea[data-id="root"]','textarea[placeholder*="Message"]','div[contenteditable="true"][data-lexical-editor="true"]','div[contenteditable="true"]'],containerSelectors:["form.stretch",".relative.flex.h-full",'div[class*="composer"]',"form"],detectDarkMode(){if(document.documentElement.classList.contains("dark"))return!0;const e=getComputedStyle(document.body).backgroundColor,[r,t,o]=e.match(/\d+/g)?.map(Number)??[255,255,255];return(r+t+o)/3<128},getTextAreaValue(e){return e instanceof HTMLTextAreaElement?e.value:e.innerText??""},setTextAreaValue(e,r){e instanceof HTMLTextAreaElement?(e.value=r,sr(e)):(e.focus(),document.execCommand("selectAll",!1),document.execCommand("insertText",!1,r))}},cr={id:"claude",name:"Claude",textAreaSelectors:['div[contenteditable="true"].ProseMirror','div[contenteditable="true"][data-placeholder]','div[contenteditable="true"]',"textarea"],containerSelectors:["fieldset",'div[class*="input-area"]','div[class*="composer"]',"form"],detectDarkMode(){const e=document.documentElement;if(e.getAttribute("data-theme")==="dark"||e.classList.contains("dark")||document.body.classList.contains("dark"))return!0;const r=getComputedStyle(document.body).backgroundColor,[t,o,i]=r.match(/\d+/g)?.map(Number)??[255,255,255];return(t+o+i)/3<128},getTextAreaValue(e){return e.innerText??""},setTextAreaValue(e,r){e.focus(),document.execCommand("selectAll",!1),document.execCommand("insertText",!1,r),e.dispatchEvent(new Event("input",{bubbles:!0}))}},dr={chatgpt:lr,claude:cr};function pr(){const e=window.location.hostname;return e.includes("chatgpt.com")?"chatgpt":e.includes("claude.ai")?"claude":null}function ur(e){return dr[e]}function mr(e){for(const r of e.textAreaSelectors){const t=document.querySelector(r);if(t)return t}return null}const gr=".container{width:100%}@media(min-width:640px){.container{max-width:640px}}@media(min-width:768px){.container{max-width:768px}}@media(min-width:1024px){.container{max-width:1024px}}@media(min-width:1280px){.container{max-width:1280px}}@media(min-width:1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.bottom-16{bottom:4rem}.bottom-full{bottom:100%}.left-1\\/2{left:50%}.right-4{right:1rem}.top-3{top:.75rem}.top-full{top:100%}.z-10{z-index:10}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.ml-3{margin-left:.75rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.block{display:block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-10{height:2.5rem}.h-2{height:.5rem}.h-3{height:.75rem}.h-4{height:1rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-\\[600px\\]{height:600px}.h-full{height:100%}.max-h-56{max-height:14rem}.max-h-60{max-height:15rem}.min-h-\\[100px\\]{min-height:100px}.min-h-\\[200px\\]{min-height:200px}.min-h-screen{min-height:100vh}.w-10{width:2.5rem}.w-2{width:.5rem}.w-3{width:.75rem}.w-4{width:1rem}.w-7{width:1.75rem}.w-8{width:2rem}.w-\\[400px\\]{width:400px}.w-full{width:100%}.max-w-4xl{max-width:56rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.resize{resize:both}.list-inside{list-style-position:inside}.list-decimal{list-style-type:decimal}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-5{gap:1.25rem}.gap-6{gap:1.5rem}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-8>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-amber-200{--tw-border-opacity: 1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-blue-200{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-current{border-color:currentColor}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-input{border-color:hsl(var(--input))}.border-transparent{border-color:transparent}.border-white{--tw-border-opacity: 1;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1))}.border-t-gray-100{--tw-border-opacity: 1;border-top-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-t-gray-900{--tw-border-opacity: 1;border-top-color:rgb(17 24 39 / var(--tw-border-opacity, 1))}.border-t-transparent{border-top-color:transparent}.bg-amber-50{--tw-bg-opacity: 1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-background{background-color:hsl(var(--background))}.bg-blue-400{--tw-bg-opacity: 1;background-color:rgb(96 165 250 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-card{background-color:hsl(var(--card))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-50\\/50{background-color:#f0fdf480}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-primary{background-color:hsl(var(--primary))}.bg-transparent{background-color:transparent}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right,var(--tw-gradient-stops))}.from-primary\\/5{--tw-gradient-from: hsl(var(--primary) / .05) var(--tw-gradient-from-position);--tw-gradient-to: hsl(var(--primary) / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to)}.to-secondary\\/5{--tw-gradient-to: hsl(var(--secondary) / .05) var(--tw-gradient-to-position)}.fill-current{fill:currentColor}.p-10{padding:2.5rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.pb-2{padding-bottom:.5rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pr-1{padding-right:.25rem}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.pt-5{padding-top:1.25rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-none{line-height:1}.leading-relaxed{line-height:1.625}.leading-snug{line-height:1.375}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-amber-700{--tw-text-opacity: 1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.text-amber-800{--tw-text-opacity: 1;color:rgb(146 64 14 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-foreground{color:hsl(var(--foreground))}.text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.placeholder-gray-400::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity, 1))}.placeholder-gray-400::placeholder{--tw-placeholder-opacity: 1;color:rgb(156 163 175 / var(--tw-placeholder-opacity, 1))}.placeholder-gray-500::-moz-placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.placeholder-gray-500::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.accent-blue-500{accent-color:#3b82f6}.opacity-100{opacity:1}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-2xl{--tw-shadow: 0 25px 50px -12px rgb(0 0 0 / .25);--tw-shadow-colored: 0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-150{transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-500{transition-duration:.5s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.animate-in{animation-name:enter;animation-duration:.15s;--tw-enter-opacity: initial;--tw-enter-scale: initial;--tw-enter-rotate: initial;--tw-enter-translate-x: initial;--tw-enter-translate-y: initial}.fade-in{--tw-enter-opacity: 0}.slide-in-from-bottom-1{--tw-enter-translate-y: .25rem}.slide-in-from-bottom-2{--tw-enter-translate-y: .5rem}.slide-in-from-bottom-4{--tw-enter-translate-y: 1rem}.duration-150{animation-duration:.15s}.duration-500{animation-duration:.5s}.ease-out{animation-timing-function:cubic-bezier(0,0,.2,1)}:host{box-sizing:border-box;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:14px;line-height:1.5;color-scheme:light dark}*,*:before,*:after{box-sizing:inherit}@keyframes pa-spin{to{transform:rotate(360deg)}}@keyframes pa-slide-up{0%{transform:translateY(1rem);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes pa-fade-in{0%{opacity:0}to{opacity:1}}.animate-spin{animation:pa-spin 1s linear infinite}.animate-in{animation:pa-slide-up .2s ease-out,pa-fade-in .2s ease-out}.slide-in-from-bottom-4{animation:pa-slide-up .2s ease-out}.slide-in-from-bottom-1{animation:pa-slide-up .15s ease-out}.fade-in{animation:pa-fade-in .2s ease-out}.duration-200{animation-duration:.2s}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#9ca3af80;border-radius:3px}input[type=range]{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:6px;border-radius:3px;background:#374151;outline:none}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#3b82f6;cursor:pointer}.placeholder\\:text-muted-foreground::-moz-placeholder{color:hsl(var(--muted-foreground))}.placeholder\\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.hover\\:border-blue-400:hover{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.hover\\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\\:bg-blue-500:hover{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-primary\\/90:hover{background-color:hsl(var(--primary) / .9)}.hover\\:bg-red-500:hover{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-600:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\\:text-amber-900:hover{--tw-text-opacity: 1;color:rgb(120 53 15 / var(--tw-text-opacity, 1))}.hover\\:text-blue-900:hover{--tw-text-opacity: 1;color:rgb(30 58 138 / var(--tw-text-opacity, 1))}.hover\\:text-foreground:hover{color:hsl(var(--foreground))}.hover\\:text-green-900:hover{--tw-text-opacity: 1;color:rgb(20 83 45 / var(--tw-text-opacity, 1))}.hover\\:text-white:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:opacity-80:hover{opacity:.8}.hover\\:shadow-xl:hover{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.focus\\:border-blue-400:focus{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-400:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(96 165 250 / var(--tw-ring-opacity, 1))}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-ring:focus{--tw-ring-color: hsl(var(--ring))}.focus\\:ring-offset-1:focus{--tw-ring-offset-width: 1px}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-40:disabled{opacity:.4}.disabled\\:opacity-50:disabled{opacity:.5}",q="[PromptArchitect]";console.log(`${q} Content script loaded on`,window.location.hostname);const pe=pr();pe?(console.log(`${q} Site detected:`,pe),hr()):console.warn(`${q} Unsupported site, exiting.`);function hr(){const e=ur(pe);let r=null,t=null,o=null,i=null,n=null;function a(l){const x=l.attachShadow({mode:"open"}),p=document.createElement("style");return p.textContent=gr,x.appendChild(p),x}function u(l){if(!r)return;const x=e.detectDarkMode();r.render(s.jsx(we.StrictMode,{children:s.jsx(zt,{onClick:S,isDark:x,hasText:l})}))}function d(l){if(!o)return;const x=e.detectDarkMode();console.log(`${q} Rendering overlay for topic:`,l||"(empty)"),o.render(s.jsx(we.StrictMode,{children:s.jsx(ir,{topic:l,isDark:x,onClose:z,onReplaceText:f,onAppendText:v})}))}function c(){return n?e.getTextAreaValue(n):""}function f(l){n&&(c(),e.setTextAreaValue(n,l),n.focus?.())}function v(l){if(!n)return;const x=c(),p=x.trim()?`

---

`:"";e.setTextAreaValue(n,x+p+l),n.focus?.()}function y(){return i?(document.documentElement.contains(i)||(console.log(`${q} âš ï¸ Overlay host detached â€” re-attaching to <html>`),document.documentElement.appendChild(i)),i):null}function S(){const l=c().trim(),x=y();x?(x.style.display="block",x.style.pointerEvents="auto",console.log(`${q} ðŸ”“ Overlay host shown`)):console.warn(`${q} openOverlay: host not found`),d(l)}function z(){const l=y();l&&(l.style.display="none",l.style.pointerEvents="none"),o&&o.render(s.jsx(s.Fragment,{}))}function C(){if(!t||!n)return;const l=n.getBoundingClientRect();l.width!==0&&Object.assign(t.style,{top:`${l.top+8}px`,left:`${l.right-48}px`})}function T(l){if(t&&document.documentElement.contains(t)){console.log(`${q} Button already injected, skipping.`);return}console.log(`${q} Injecting Refine button (fixed position)`),t=document.createElement("div"),t.id="prompt-architect-refine-btn",Object.assign(t.style,{position:"fixed",zIndex:"2147483647",pointerEvents:"all",width:"40px",height:"40px"}),document.documentElement.appendChild(t);const x=a(t),p=document.createElement("div");x.appendChild(p),r=xe.createRoot(p),n=l,C(),u(c().trim().length>0),window.addEventListener("scroll",C,{passive:!0}),window.addEventListener("resize",C,{passive:!0}),l.addEventListener("input",()=>{u(c().trim().length>0)}),console.log(`${q} âœ… Refine button mounted`)}function L(){if(o)return;const l=document.createElement("div");l.id="prompt-architect-overlay-host",Object.assign(l.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"2147483647",pointerEvents:"none",display:"none"}),document.documentElement.appendChild(l),i=l;const x=a(l),p=document.createElement("div");p.id="prompt-architect-overlay-mount",p.style.cssText="position:relative;width:100%;height:100%;pointer-events:none;",x.appendChild(p),o=xe.createRoot(p),console.log(`${q} âœ… Overlay host mounted`)}let _=null;function N(){const l=mr(e);if(!l){console.log(`${q} No textarea found yet, waiting...`);return}if(l===n&&t&&document.documentElement.contains(t)){C();return}console.log(`${q} Textarea found:`,l.tagName,l.id||l.className?.slice?.(0,40)),T(l)}const M=new MutationObserver(()=>{_&&clearTimeout(_),_=setTimeout(N,500)});function I(){console.log(`${q} ðŸš€ Booting...`),L(),N(),M.observe(document.body,{childList:!0,subtree:!0}),console.log(`${q} MutationObserver active`)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",I):I()}
